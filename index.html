<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nave Arcturiana - Tu Mapa Vibracional</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0f0c29; color: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .card { background: rgba(255, 255, 255, 0.1); padding: 2.5rem; border-radius: 20px; width: 450px; text-align: center; border: 1px solid #00d2ff; backdrop-filter: blur(10px); box-shadow: 0 0 30px rgba(0,210,255,0.2); position: relative; }
        h2 { color: #00d2ff; margin-bottom: 5px; }
        input, select { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: none; background: rgba(255,255,255,0.15); color: white; outline: none; box-sizing: border-box; }
        button { width: 100%; padding: 14px; background: #00d2ff; color: #0f0c29; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; margin-top: 10px; text-transform: uppercase; }
        .hidden { display: none; }
        #error-msg { background: rgba(0,0,0,0.9); border: 2px solid #ff4d4d; border-radius: 15px; padding: 20px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 85%; z-index: 100; box-shadow: 0 0 20px #ff4d4d; }
    </style>
</head>
<body>

    <div class="card">
        <div id="error-msg" class="hidden">
            <div style="font-size: 40px;">ðŸ‘½</div>
            <p id="error-text"></p>
            <button onclick="document.getElementById('error-msg').classList.add('hidden')" style="background:#ff4d4d; color:white; width:auto; padding:5px 15px;">Aceptar</button>
        </div>

        <div id="box-login">
            <h2>ðŸš€ Acceso Nave</h2>
            <input type="text" id="user_val" placeholder="Usuario">
            <input type="password" id="pass_val" placeholder="ContraseÃ±a">
            <button onclick="login()">Entrar al Sistema</button>
        </div>

        <div id="box-app" class="hidden">
            <h2>âœ¨ Portal Arcturiano</h2>
            <input type="text" id="client_name" placeholder="Nombre y Apellido Completo">
            <input type="date" id="client_birth">
            <button onclick="procesar()">Generar Mapa Vibracional</button>
            <button onclick="location.reload()" style="background:none; border:1px solid #ff4d4d; color:#ff4d4d; font-size:10px; margin-top:15px;">Cerrar SesiÃ³n</button>
        </div>
    </div>

    <script>
        const VALS = { 'A':1,'J':1,'S':1,'B':2,'K':2,'T':2,'C':3,'L':3,'U':3,'D':4,'M':4,'V':4,'E':5,'N':5,'W':5,'F':6,'O':6,'X':6,'G':7,'P':7,'Y':7,'H':8,'Q':8,'Z':8,'I':9,'R':9 };
        const VOCS = ['A','E','I','O','U'];

        const DB = {
            alma: {
                1: "En vidas pasadas cultivaste la valentÃ­a. Tu alma ya sabe abrir caminos sola; traÃ©s esa fuerza interna para no depender de otros.",
                2: "TraÃ©s la maestrÃ­a de la uniÃ³n y la paz de otras vidas. Tu alma ya aprendiÃ³ a colaborar y hoy vibra en sensibilidad profunda.",
                3: "Tu alma ya experimentÃ³ el brillo y la expresiÃ³n. TraÃ©s un tesoro de alegrÃ­a y creatividad que hoy te ayuda a comunicar luz.",
                4: "En otras vidas fuiste el cimiento de grandes estructuras. Tu alma ya conoce el orden y la disciplina constructiva.",
                5: "Vienes de encarnaciones de libertad total. Tu alma ya sabe adaptarse a los cambios y hoy te regala una curiosidad infinita.",
                6: "Tu alma ya transitÃ³ el amor incondicional y la familia. TraÃ©s una esencia nutricia que busca armonizar todo a su paso.",
                7: "En vidas pasadas fuiste buscador de la verdad. Tu alma ya conoce el silencio y la introspecciÃ³n mÃ­stica profunda.",
                8: "Vienes de ejercer el poder con equilibrio. Tu alma ya sabe manifestar en la materia y hoy traÃ©s esa autoridad natural.",
                9: "TraÃ©s una esencia de amor romÃ¡ntico y generosidad infinita. Tu alma ya conoce el desapego y hoy vibra en entrega humanitaria.",
                11: "Alma Maestra: TraÃ©s una sintonÃ­a elevada. Tu alma ya transitÃ³ niveles de conciencia que hoy te permiten guiar a otros.",
                22: "Alma Maestra: Tu alma ya sabe construir para la humanidad. TraÃ©s la memoria de realizar obras que trascienden el tiempo."
            },
            personalidad: {
                1: "Los demÃ¡s te ven como una persona pionera e independiente. Tu mÃ¡scara proyecta liderazgo, decisiÃ³n y mucha fuerza inicial.",
                2: "Te perciben como alguien suave, diplomÃ¡tico y mediador. Los demÃ¡s confÃ­an en tu capacidad para escuchar y acompaÃ±ar.",
                3: "Tu imagen social es brillante y optimista. Te ven como el alma de la fiesta, alguien creativo que siempre tiene algo que decir.",
                4: "Los demÃ¡s te ven como una roca: alguien serio, responsable y muy trabajador que genera confianza inmediata.",
                5: "ProyectÃ¡s una imagen inquieta y magnÃ©tica. Te ven como alguien que ama la libertad, los viajes y las nuevas experiencias.",
                6: "Tu mÃ¡scara es maternal y protectora. Los demÃ¡s te ven como alguien que cuida los detalles, la estÃ©tica y la armonÃ­a del hogar.",
                7: "Te perciben como alguien misterioso, intelectual y reservado. Das la imagen de una persona profunda que observa mÃ¡s de lo que habla.",
                8: "ProyectÃ¡s Ã©xito y autoridad. Los demÃ¡s te ven como alguien capaz de manejar grandes responsabilidades y lograr metas materiales.",
                9: "Te ven como un idealista carismÃ¡tico. Tu imagen es la de alguien que siempre estÃ¡ dispuesto a sacrificarse por una causa noble.",
                11: "IrradiÃ¡s una luz inspiradora. Los demÃ¡s ven en vos a alguien con una visiÃ³n superior, casi mÃ­stica o muy idealista.",
                22: "Te ven como un realizador nato. Tu imagen es la de alguien capaz de organizar a muchos para lograr un objetivo comÃºn."
            },
            temperamento: {
                1: "TenÃ©s un carÃ¡cter activo y decidido. ReaccionÃ¡s ante la vida con iniciativa propia y no te gusta que te digan quÃ© hacer.",
                2: "Tu carÃ¡cter es receptivo y sensible. BuscÃ¡s el equilibrio en tus reacciones y preferÃ­s la calma antes que el conflicto.",
                3: "ReaccionÃ¡s con entusiasmo y expresividad. Tu temperamento es lÃºdico y buscÃ¡s siempre el lado positivo de las cosas.",
                4: "TenÃ©s un carÃ¡cter firme y perseverante. Tus reacciones son medidas, lÃ³gicas y siempre enfocadas en la seguridad.",
                5: "Tu temperamento es adaptable y versÃ¡til. ReaccionÃ¡s con rapidez ante los cambios y necesitÃ¡s movimiento constante.",
                6: "CarÃ¡cter protector y afectuoso. Tu temperamento se inclina siempre hacia la bÃºsqueda de la armonÃ­a y la paz grupal.",
                7: "TenÃ©s un carÃ¡cter analÃ­tico y reflexivo. Ante los desafÃ­os, preferÃ­s retirarte al silencio para encontrar la respuesta.",
                8: "Tu temperamento es ambicioso y ejecutivo. ReaccionÃ¡s con autoridad y buscÃ¡s siempre tener el control de la situaciÃ³n.",
                9: "CarÃ¡cter abnegado y compasivo. ReaccionÃ¡s con gran sensibilidad ante el dolor ajeno y buscÃ¡s soluciones universales.",
                11: "Temperamento intuitivo y vibrante. ReaccionÃ¡s desde una sensibilidad muy alta, captando lo que otros no ven.",
                22: "CarÃ¡cter prÃ¡ctico pero visionario. Tu temperamento te empuja a actuar para construir algo que sea Ãºtil para todos."
            },
            mision: {
                1: "VenÃ­s a saldar deudas de inseguridad. Tu misiÃ³n es aprender a ser tu propio guÃ­a y liderar tu vida con total independencia.",
                2: "EstÃ¡s acÃ¡ para aprender la cooperaciÃ³n. VenÃ­s a sanar el egoÃ­smo y a integrar el equilibrio en tus vÃ­nculos afectivos.",
                3: "VenÃ­s a desarrollar tu expresiÃ³n. Tu misiÃ³n es aprender a comunicar tus verdades con alegrÃ­a y a brillar sin miedos.",
                4: "EstÃ¡s para aprender el valor del orden. VenÃ­s a sanar la inestabilidad y a construir bases sÃ³lidas en este plano fÃ­sico.",
                5: "VenÃ­s a experimentar la verdadera libertad. Tu misiÃ³n es aprender a fluir con el cambio sin perder tu eje interno.",
                6: "EstÃ¡s para aprender la responsabilidad afectiva. VenÃ­s a sanar vÃ­nculos familiares y a brindar amor sin condiciones.",
                7: "VenÃ­s a buscar tu propia sabidurÃ­a. Tu misiÃ³n es encontrar la conexiÃ³n con lo divino a travÃ©s del estudio y el silencio.",
                8: "EstÃ¡s acÃ¡ para equilibrar el poder y la justicia. VenÃ­s a aprender a manejar la abundancia material con Ã©tica espiritual.",
                9: "VenÃ­s a realizar el amor universal. Tu misiÃ³n es aprender el desapego y servir a la humanidad desde tu sabidurÃ­a.",
                11: "MisiÃ³n Maestra: VenÃ­s a inspirar. EstÃ¡s acÃ¡ para ser un canal de luz y elevar la conciencia de quienes te rodean.",
                22: "MisiÃ³n Maestra: VenÃ­s a materializar sueÃ±os colectivos. EstÃ¡s acÃ¡ para construir realidades que beneficien a la humanidad.",
                // KÃ¡rmicos
                13: "Karma 13/4: VenÃ­s a sanar deudas de pereza. Tu camino es el trabajo duro y el orden para transformar tu realidad.",
                14: "Karma 14/5: VenÃ­s a sanar excesos del pasado. Tu misiÃ³n es encontrar la templanza y el equilibrio en tu libertad.",
                16: "Karma 16/7: VenÃ­s a sanar el orgullo. Tu camino es la humildad y reconstruir tu vida sobre bases espirituales reales.",
                19: "Karma 19/1: VenÃ­s a sanar el autoritarismo. Tu misiÃ³n es aprender a liderar desde el amor y la justicia."
            },
            meta: {
                1: "En tu madurez, activarÃ¡s un potencial de liderazgo total.",
                2: "LlegarÃ¡s a una etapa de paz, equilibrio y sabidurÃ­a vincular.",
                3: "ActivarÃ¡s una gran capacidad de expansiÃ³n creativa y disfrute.",
                4: "LograrÃ¡s una estabilidad sÃ³lida y el reconocimiento a tu esfuerzo.",
                5: "Tu madurez serÃ¡ una etapa de viajes, cambios y gran vitalidad.",
                6: "ActivarÃ¡s un potencial de armonÃ­a familiar y plenitud afectiva.",
                7: "LlegarÃ¡s a una madurez de profunda conexiÃ³n espiritual.",
                8: "LograrÃ¡s el equilibrio entre tus logros materiales y tu paz.",
                9: "Tu madurez serÃ¡ de entrega humanitaria y plenitud absoluta.",
                11: "Te convertirÃ¡s en un faro de guÃ­a para nuevas generaciones.",
                22: "LograrÃ¡s concretar proyectos que dejarÃ¡n un legado eterno."
            }
        };

        function login() {
            if(document.getElementById('user_val').value === "navearcturiana" && document.getElementById('pass_val').value === "nubilis2026_") {
                document.getElementById('box-login').classList.add('hidden');
                document.getElementById('box-app').classList.remove('hidden');
            } else {
                document.getElementById('error-text').innerText = "Algo ingresaste mal o no tenes acceso a la nave, comunÃ­cate con el comandante ðŸ‘½";
                document.getElementById('error-msg').classList.remove('hidden');
            }
        }

        function reducir(n, esKarma = false) {
            const k = [13, 14, 16, 19];
            if (n === 11 || n === 22) return { v: n, m: "(NÃºmero Maestro)" };
            if (esKarma && k.includes(n)) return { v: n + "/" + (n.toString().split('').reduce((a,b)=>parseInt(a)+parseInt(b),0)), m: "(N. KÃ¡rmico)", orig: n };
            while (n > 9 && n !== 11 && n !== 22) {
                n = n.toString().split('').reduce((a,b)=>parseInt(a)+parseInt(b),0);
                if (esKarma && k.includes(n)) return { v: n + "/" + (n.toString().split('').reduce((a,b)=>parseInt(a)+parseInt(b),0)), m: "(N. KÃ¡rmico)", orig: n };
            }
            return { v: n, m: "" };
        }

        function procesar() {
            const nom = document.getElementById('client_name').value.toUpperCase();
            const fec = document.getElementById('client_birth').value;
            if(!nom || !fec) return alert("Faltan datos.");

            let sA = 0, sP = 0;
            const lim = nom.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[^A-Z]/g, "");
            for(let l of lim) { if(VALS[l]) VOCS.includes(l) ? sA += VALS[l] : sP += VALS[l]; }

            const rA = reducir(sA), rP = reducir(sP), rT = reducir(sA+sP);
            const sumK = fec.split('-').join('').split('').reduce((a,b)=>parseInt(a)+parseInt(b),0);
            const rK = reducir(sumK, true);
            const rM = reducir((sA+sP)+sumK, true);

            generarPDF(nom, rA, rP, rT, rK, rM);
        }

        function generarPDF(nom, a, p, t, k, m) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFillColor(15, 12, 41); doc.rect(0, 0, 210, 40, 'F');
            doc.setTextColor(0, 210, 255); doc.setFontSize(22);
            doc.text("TU MAPA VIBRACIONAL", 105, 25, {align:"center"});
            
            let y = 55;
            doc.setTextColor(40); doc.setFontSize(12); doc.text(`CONSULTANTE: ${nom}`, 20, y);
            y += 15;

            const items = [
                {t: "ALMA (VibraciÃ³n Interna):", v: a, d: DB.alma[a.v.toString().split('/')[0]]},
                {t: "PERSONALIDAD (VibraciÃ³n Externa):", v: p, d: DB.personalidad[p.v.toString().split('/')[0]]},
                {t: "TEMPERAMENTO (Tu CarÃ¡cter):", v: t, d: DB.temperamento[t.v.toString().split('/')[0]]},
                {t: "MISIÃ“N O KARMA (Camino de SanaciÃ³n):", v: k, d: DB.mision[k.orig || k.v.toString().split('/')[0]]},
                {t: "META FINAL (Potencial Sagrado):", v: m, d: DB.meta[m.v.toString().split('/')[0]]}
            ];

            items.forEach(it => {
                doc.setFont(undefined, 'bold'); doc.setFontSize(11);
                doc.text(`${it.t} RESULTADO: ${it.v.v} ${it.v.m}`, 20, y);
                doc.setFont(undefined, 'normal'); doc.setFontSize(10);
                let split = doc.splitTextToSize(it.d, 170);
                doc.text(split, 20, y+7);
                y += 15 + (split.length * 5);
            });

            doc.save(`Mapa_Vibracional_${nom}.pdf`);
        }
    </script>
</body>
</html>
